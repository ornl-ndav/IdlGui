<html>
<title>Input the Data Reduction Parameters</title>
<body>
<h2>Input the Data Reduction Parameters</h2>
<p>This is where all the parameters used in the Data Reduction will be defined and set.</p>
<center><img src='SbSstep3.png'></img></center>
<center>REDUCE tab of the low resolution mode</center>
<p>
<ul><li><b>DATA</b> 
  <ul><li><u>Runs:</u> The full path of the Data NeXus file you loaded has been automatically added to the list of Runs. You can either replace this one or add other runs. To add other data run numbers, you can either enter just the run number of the full NeXus path. The list of runs must be comma separated.</li>
  <li><u>Region of interest (ROI) file</u>: This is where the name of the Background region of selection File you created or loaded is displayed.</li>
  <li><u>Peak of Exclusion OR Background Region</u>: Displays the low and high pixel border of the peak exclusion region (see Picture 1) or the Background region file name (see Picture 2).<br><br>
<center><img src='SbSstep3_peak.png'><br>
Picture 1: Data Gui with Peak of Exclusion Region used</center><br><br>
<center><img src='SbSstep3_back.png'><br>
Picture 1: Data Gui with Background Region used</center><br><br></li>
  <li><u>Background</u>: Select if you want to consider the data background in the data reduction process</li><br><br></ul>
<li><b>NORMALIZATION</b> Select first if you want to include a normalization in the data reduction process. If you select yes, the normalization base is displayed.
  <ul><li><u>Runs:</u> The full path of the Normalization NeXus file (if any) you loaded has been automatically added to the list of Runs. You can either replace this one or add other runs. To add other normalization run numbers, you can either enter just the run number of the full NeXus path. The list of runs must be comma separated.</li>
  <li><u>Region of interest (ROI) file</u>: This is where the name of the Background region of selection File you created or loaded is displayed.</li>
  <li><u>Peak of Exclusion OR Background Region</u>: Displays the low and high pixel border of the peak exclusion region or the Background region file name.</li>
  <li><u>Background</u>: Select if you want to consider the data background in the normalization reduction process</li><br><br></ul>
  <li><b>Q</b>: If the <b>Auto</b> mode is selected, the program will produce the output data reduction file using the full range of Q. If the <b>Manual</b> is used, you need to enter the range of Q (Q minimum, Q maximum, Q width and Q type) to be able to run the Data Reduction. The Data Reduction main output file (the one you can visualize in the <b>PLOT</b> tab is produced with this range of Qs.</li>
<li><b>ANGLE OFFSET</b>: Enter a value and error for the angle offset if you want to overwrite the value of the angle offset defined in the NeXus file. Don't forget to verify the units.<br><br></li>
<li><b>FILTERING DATA</b>: select the type of filtering you want. By default, the data reduction will excluded all the data where the error is equal or greater to the value of the data.<br><br></li>
<li><b>dt/t</b>: Select or not the dt/t.<br><br></li>
<li><b>Overwrite Data Instrument Geometry</b>: If you want to overwrite the default instrument geometry for the data file(s), click yes and select a new instrument geometry file.<br><br></li>
<li><b>Overwrite Normalization Instrument Geometry</b>: If you want to overwrite the default instrument geometry for the normalization file(s), click yes and select a new instrument geometry file.<br><br></li>
<li><b>Intermediate Files</b>: Select from the list the intermediate files you want to create.<br>
              <center><img src='SbSstep3_1.png'></img></center>
             <center>List of Intermediate Files GUI</center><br>
<br>
According to the status of the DATA and NORMALIZATION widgets, some of the intermediate files can not be selected because not available (see following picture).
              <center><img src='SbSstep3_2.png'</img></center>
    <center>Status of the Intermediate Files GUI with no normalization file.</center><br>
<br></li>
<li><b>COMMAND LINE STATUS & REDUCTION XML FILE</b>:
  <ul><li>Command Line Status: this text box displays the status of the REDUCE tab. It gives a list of information that are missing to be able to start and run the data reduction. As long as this text box is not empty, the Data Reduction process can not be launched.<br>
<br></li>
  <li>Reduction XML File will displays a XML file produced at the end of a data reduction process. In this XML file you can review the parameters used during the data reduction.<br>
<br>
                <center><img src='SbSstep3_3.png'></img></center>
                  <center>Command Line Status text box</center></li></ul>
</li><br>
<li><b>COMMAND LINE PREVIEW</b> This text box displays the command line that will be run during the data reduction process.<br><br></li>
<li><b>CREATE A COMMAND LINE FILE</b><br><br>
<img src='SbSstep3_4.png'></img>
This is used to produce a file that will contain a copy of the command line. This file can be used to run batch jobs and let the possibility to the user to manually change such or such parameter from the command line (the manual modification is not recommended to the general users that are not very familiar with the data reduction code used).<br>
The location of this file can be defined using the <font color=blue size=4>CL PATH...</font> button or manually entered using the text box next to this button. The name of the file can be defined using the <font color=blue size=4>CD FILE...</font> button or by editing the name of file in the text box next to this button. Then click the <font color=blue size=4>CREATE CL FILE</font> to create the Command Line File.

</ul>
</body>
</html>
